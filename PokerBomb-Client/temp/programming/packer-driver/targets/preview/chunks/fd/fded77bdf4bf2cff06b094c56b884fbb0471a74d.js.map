{"version":3,"sources":["file:///D:/CocosProjects/PokerBomb/assets/Script/hallScene/joinRoom.ts"],"names":["_decorator","Component","Node","Label","ccclass","property","joinRoom","str","cnt","start","update","deltaTime","onCloseBtnClicked","node","active","cleanLabelList","onInputEvent","target","args","substring","length","showLabel","getComponent","string","onJoinBtnClicked","globalThis","_hallClientMgr","sendMessage","roomId","i"],"mappings":";;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAWC,MAAAA,I,OAAAA,I;AAAMC,MAAAA,K,OAAAA,K;;;;;;;OAChC;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBL,U;;0BAGjBM,Q,WADZF,OAAO,CAAC,UAAD,C,UAGHC,QAAQ,CAACH,IAAD,C,2BAHb,MACaI,QADb,SAC8BL,SAD9B,CACwC;AAAA;AAAA;;AAAA;;AAAA,eAK7BM,GAL6B,GAKf,EALe;AAAA,eAO7BC,GAP6B,GAOf,CAPe;AAAA;;AASpCC,QAAAA,KAAK,GAAG,CAEP;;AAEDC,QAAAA,MAAM,CAACC,SAAD,EAAoB,CAEzB;;AAEDC,QAAAA,iBAAiB,GAAE;AACf,eAAKC,IAAL,CAAUC,MAAV,GAAmB,KAAnB;AACA,eAAKC,cAAL;AACH;;AAEDC,QAAAA,YAAY,CAACC,MAAD,EAASC,IAAT,EAAc;AACtB;AACA;AACA,cAAGA,IAAI,IAAI,IAAX,EAAgB;AACZ,iBAAKH,cAAL;AACA;AACH;;AACD,cAAGG,IAAI,IAAI,IAAX,EAAgB;AACZ,gBAAG,KAAKV,GAAL,GAAW,CAAd,EAAgB;AACZ,mBAAKD,GAAL,GAAW,KAAKA,GAAL,CAASY,SAAT,CAAmB,CAAnB,EAAqB,KAAKZ,GAAL,CAASa,MAAT,GAAkB,CAAvC,CAAX;AACA,mBAAKC,SAAL,CAAe,KAAKb,GAAL,GAAW,CAA1B,EAA6Bc,YAA7B,CAA0CnB,KAA1C,EAAiDoB,MAAjD,GAA0D,GAA1D;AACA,mBAAKf,GAAL;AACH;;AACD;AACH;;AAED,cAAG,KAAKA,GAAL,IAAY,CAAf,EAAiB;AACjB,eAAKD,GAAL,GAAW,KAAKA,GAAL,GAAWW,IAAtB;AACA,eAAKG,SAAL,CAAe,KAAKb,GAAL,EAAf,EAA2Bc,YAA3B,CAAwCnB,KAAxC,EAA+CoB,MAA/C,GAAwDL,IAAxD;AACH;;AAEDM,QAAAA,gBAAgB,GAAE;AACd,cAAG,KAAKhB,GAAL,IAAY,CAAf,EAAiB;AACbiB,YAAAA,UAAU,CAACC,cAAX,CAA0BC,WAA1B,CAAsC,UAAtC,EAAkD;AAACC,cAAAA,MAAM,EAAE,KAAKrB;AAAd,aAAlD;;AACA,iBAAKQ,cAAL;AACH;AACJ;;AAEDA,QAAAA,cAAc,GAAG;AACb,eAAKR,GAAL,GAAW,EAAX;;AACA,eAAI,IAAIsB,CAAC,GAAG,CAAZ,EAAeA,CAAC,GAAG,KAAKrB,GAAxB,EAA6BqB,CAAC,EAA9B,EAAiC;AAC7B,iBAAKR,SAAL,CAAeQ,CAAf,EAAkBP,YAAlB,CAA+BnB,KAA/B,EAAsCoB,MAAtC,GAA+C,GAA/C;AACH;;AACD,eAAKf,GAAL,GAAW,CAAX;AACA;AACH;;AAzDmC,O;;;;;iBAGT,E","sourcesContent":["import { _decorator, Component, Node, Label } from 'cc';\nconst { ccclass, property } = _decorator;\n\n@ccclass('joinRoom')\nexport class joinRoom extends Component {\n\n    @property(Node)\n    public showLabel: Node[] = [];\n\n    public str: string = '';\n\n    public cnt: number = 0;\n\n    start() {\n\n    }\n\n    update(deltaTime: number) {\n        \n    }\n\n    onCloseBtnClicked(){\n        this.node.active = false;\n        this.cleanLabelList();\n    }\n\n    onInputEvent(target, args){\n        // console.log(args,\"/bn\");\n        // for(let i = 0; i < 6; i++)console.log(this.showLabel[i].getComponent(Label).string);\n        if(args == '清空'){\n            this.cleanLabelList();\n            return;\n        }\n        if(args == '删除'){\n            if(this.cnt > 0){\n                this.str = this.str.substring(0,this.str.length - 1);\n                this.showLabel[this.cnt - 1].getComponent(Label).string = '-';\n                this.cnt--;\n            }\n            return;\n        }\n        \n        if(this.cnt == 6)return;\n        this.str = this.str + args;\n        this.showLabel[this.cnt++].getComponent(Label).string = args;\n    }\n\n    onJoinBtnClicked(){\n        if(this.cnt == 6){\n            globalThis._hallClientMgr.sendMessage(\"joinRoom\", {roomId: this.str});\n            this.cleanLabelList();\n        }\n    }\n\n    cleanLabelList() {\n        this.str = '';\n        for(let i = 0; i < this.cnt; i++){\n            this.showLabel[i].getComponent(Label).string = '-';\n        }\n        this.cnt = 0;\n        return;\n    }\n}\n\n    \n\n"]}