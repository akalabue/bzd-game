{"version":3,"sources":["file:///D:/Documents/OneDrive/%E6%A1%8C%E9%9D%A2/%E5%85%B6%E4%BB%96%E6%96%87%E4%BB%B6%E5%A4%B9/%E6%AF%95%E4%B8%9A%E8%AE%BE%E8%AE%A1/PokerBomb/PokerBomb-Client/assets/Script/hallScene/joinRoom.ts"],"names":["_decorator","Component","Node","Label","HallSoundMgt","ccclass","property","joinRoom","str","cnt","start","update","deltaTime","onCloseBtnClicked","hallSoundMgt","play","node","active","cleanLabelList","onInputEvent","target","args","substring","length","showLabel","getComponent","string","onJoinBtnClicked","globalThis","_hallClientMgr","sendMessage","roomId","userId","_userInfo","user_id","i"],"mappings":";;;;;;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAWC,MAAAA,I,OAAAA,I;AAAMC,MAAAA,K,OAAAA,K;;AAC7BC,MAAAA,Y,iBAAAA,Y;;;;;;;OACH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBN,U;;0BAGjBO,Q,WADZF,OAAO,CAAC,UAAD,C,UAGHC,QAAQ;AAAA;AAAA,uC,UAGRA,QAAQ,CAACJ,IAAD,C,2BANb,MACaK,QADb,SAC8BN,SAD9B,CACwC;AAAA;AAAA;;AAAA;;AAAA;;AAAA,eAQ7BO,GAR6B,GAQf,EARe;AAAA,eAU7BC,GAV6B,GAUf,CAVe;AAAA;;AAYpCC,QAAAA,KAAK,GAAG,CAEP;;AAEDC,QAAAA,MAAM,CAACC,SAAD,EAAoB,CAEzB;;AAEDC,QAAAA,iBAAiB,GAAE;AACf,eAAKC,YAAL,CAAkBC,IAAlB,CAAuB,QAAvB;AACA,eAAKC,IAAL,CAAUC,MAAV,GAAmB,KAAnB;AACA,eAAKC,cAAL;AACH;;AAEDC,QAAAA,YAAY,CAACC,MAAD,EAASC,IAAT,EAAc;AACtB;AACA;AACA,eAAKP,YAAL,CAAkBC,IAAlB,CAAuB,QAAvB;;AACA,cAAGM,IAAI,IAAI,IAAX,EAAgB;AACZ,iBAAKH,cAAL;AACA;AACH;;AACD,cAAGG,IAAI,IAAI,IAAX,EAAgB;AACZ,gBAAG,KAAKZ,GAAL,GAAW,CAAd,EAAgB;AACZ,mBAAKD,GAAL,GAAW,KAAKA,GAAL,CAASc,SAAT,CAAmB,CAAnB,EAAqB,KAAKd,GAAL,CAASe,MAAT,GAAkB,CAAvC,CAAX;AACA,mBAAKC,SAAL,CAAe,KAAKf,GAAL,GAAW,CAA1B,EAA6BgB,YAA7B,CAA0CtB,KAA1C,EAAiDuB,MAAjD,GAA0D,GAA1D;AACA,mBAAKjB,GAAL;AACH;;AACD;AACH;;AAED,cAAG,KAAKA,GAAL,IAAY,CAAf,EAAiB;AACjB,eAAKD,GAAL,GAAW,KAAKA,GAAL,GAAWa,IAAtB;AACA,eAAKG,SAAL,CAAe,KAAKf,GAAL,EAAf,EAA2BgB,YAA3B,CAAwCtB,KAAxC,EAA+CuB,MAA/C,GAAwDL,IAAxD;AACH;;AAEDM,QAAAA,gBAAgB,GAAE;AACd,eAAKb,YAAL,CAAkBC,IAAlB,CAAuB,QAAvB;;AACA,cAAG,KAAKN,GAAL,IAAY,CAAf,EAAiB;AACbmB,YAAAA,UAAU,CAACC,cAAX,CAA0BC,WAA1B,CAAsC,UAAtC,EAAkD;AAACC,cAAAA,MAAM,EAAE,KAAKvB,GAAd;AAAmBwB,cAAAA,MAAM,EAAEJ,UAAU,CAACK,SAAX,CAAqBC;AAAhD,aAAlD;;AACA,iBAAKhB,cAAL;AACH;AACJ;;AAEDA,QAAAA,cAAc,GAAG;AACb,eAAKV,GAAL,GAAW,EAAX;;AACA,eAAI,IAAI2B,CAAC,GAAG,CAAZ,EAAeA,CAAC,GAAG,KAAK1B,GAAxB,EAA6B0B,CAAC,EAA9B,EAAiC;AAC7B,iBAAKX,SAAL,CAAeW,CAAf,EAAkBV,YAAlB,CAA+BtB,KAA/B,EAAsCuB,MAAtC,GAA+C,GAA/C;AACH;;AACD,eAAKjB,GAAL,GAAW,CAAX;AACA;AACH;;AA/DmC,O;;;;;;;;;;iBAMT,E","sourcesContent":["import { _decorator, Component, Node, Label } from 'cc';\nimport { HallSoundMgt } from './HallSoundMgt';\nconst { ccclass, property } = _decorator;\n\n@ccclass('joinRoom')\nexport class joinRoom extends Component {\n\n    @property(HallSoundMgt)\n    private hallSoundMgt: HallSoundMgt;\n\n    @property(Node)\n    public showLabel: Node[] = [];\n\n    public str: string = '';\n\n    public cnt: number = 0;\n\n    start() {\n\n    }\n\n    update(deltaTime: number) {\n        \n    }\n\n    onCloseBtnClicked(){\n        this.hallSoundMgt.play(\"button\");\n        this.node.active = false;\n        this.cleanLabelList();\n    }\n\n    onInputEvent(target, args){\n        // console.log(args,\"/bn\");\n        // for(let i = 0; i < 6; i++)console.log(this.showLabel[i].getComponent(Label).string);\n        this.hallSoundMgt.play(\"button\");\n        if(args == '清空'){\n            this.cleanLabelList();\n            return;\n        }\n        if(args == '删除'){\n            if(this.cnt > 0){\n                this.str = this.str.substring(0,this.str.length - 1);\n                this.showLabel[this.cnt - 1].getComponent(Label).string = '-';\n                this.cnt--;\n            }\n            return;\n        }\n        \n        if(this.cnt == 6)return;\n        this.str = this.str + args;\n        this.showLabel[this.cnt++].getComponent(Label).string = args;\n    }\n\n    onJoinBtnClicked(){\n        this.hallSoundMgt.play(\"button\");\n        if(this.cnt == 6){\n            globalThis._hallClientMgr.sendMessage(\"joinRoom\", {roomId: this.str, userId: globalThis._userInfo.user_id});\n            this.cleanLabelList();\n        }\n    }\n\n    cleanLabelList() {\n        this.str = '';\n        for(let i = 0; i < this.cnt; i++){\n            this.showLabel[i].getComponent(Label).string = '-';\n        }\n        this.cnt = 0;\n        return;\n    }\n}\n\n    \n\n"]}