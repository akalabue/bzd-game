{"version":3,"sources":["file:///D:/Documents/OneDrive/%E6%A1%8C%E9%9D%A2/%E5%85%B6%E4%BB%96%E6%96%87%E4%BB%B6%E5%A4%B9/%E6%AF%95%E4%B8%9A%E8%AE%BE%E8%AE%A1/PokerBomb/bzd-game/PokerBomb-Client/assets/Script/games/bazhadan/PokerCtr.ts"],"names":["_decorator","Component","Node","SpriteAtlas","resources","Sprite","ccclass","property","PokerCtr","cardList","pokerAtlas","start","onDealCards","data","console","log","cards","globalThis","_userInfo","room_seat","pokerCtl","init","onloadAtlas","load","err","spriteAtlas","showPoker","pokerView","active","i","pk","getSpriteFrame","cardName","cardNode","getChildByName","sp","getComponent","spriteFrame"],"mappings":";;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAWC,MAAAA,I,OAAAA,I;AAAMC,MAAAA,W,OAAAA,W;AAAaC,MAAAA,S,OAAAA,S;AAAWC,MAAAA,M,OAAAA,M;;;;;;;OACxD;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBP,U;;0BAGjBQ,Q,WADZF,OAAO,CAAC,UAAD,C,UAKHC,QAAQ,CAACL,IAAD,C,2BALb,MACaM,QADb,SAC8BP,SAD9B,CACwC;AAAA;AAAA;AAAA,eAEpCQ,QAFoC;AAAA,eAGpCC,UAHoC;;AAAA;AAAA;;AAOpCC,QAAAA,KAAK,GAAG,CACP;;AAEDC,QAAAA,WAAW,CAACC,IAAD,EAAM;AACbC,UAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAoBF,IAApB;AACA,cAAIG,KAAK,GAAGH,IAAI,CAACJ,QAAL,CAAcQ,UAAU,CAACC,SAAX,CAAqBC,SAAnC,CAAZ;AACA,cAAIC,QAAQ,GAAG,IAAIZ,QAAJ,EAAf;AACAY,UAAAA,QAAQ,CAACC,IAAT,CAAcL,KAAd;AACH;;AAEDK,QAAAA,IAAI,CAACL,KAAD,EAAkB;AAClB,eAAKP,QAAL,GAAgBO,KAAhB;AACA,eAAKM,WAAL;AACH;;AACDA,QAAAA,WAAW,GAAG;AACVlB,UAAAA,SAAS,CAACmB,IAAV,CAAe,qCAAf,EAAsDpB,WAAtD,EAAmE,CAACqB,GAAD,EAAMC,WAAN,KAAoB;AACnF,gBAAGD,GAAH,EAAOV,OAAO,CAACC,GAAR,CAAY,kBAAZ,EAAgCS,GAAhC,EAAP,KACK;AACD,mBAAKd,UAAL,GAAkBe,WAAlB;AACAX,cAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ,EAA4B,KAAKL,UAAjC;AACA,mBAAKgB,SAAL;AACH;AACJ,WAPD;AAQH;;AACDA,QAAAA,SAAS,GAAG;AACR,eAAKC,SAAL,CAAeC,MAAf,GAAwB,IAAxB;;AACA,eAAI,IAAIC,CAAC,GAAG,CAAZ,EAAeA,CAAC,GAAG,CAAnB,EAAsBA,CAAC,EAAvB,EAA0B;AACtB,gBAAIC,EAAE,GAAG,KAAKpB,UAAL,CAAgBqB,cAAhB,CAA+B,KAAKtB,QAAL,CAAcoB,CAAd,IAAiB,EAAhD,CAAT;AACA,gBAAIG,QAAQ,GAAG,UAAUH,CAAC,GAAG,CAAd,CAAf;AACAf,YAAAA,OAAO,CAACC,GAAR,CAAYiB,QAAZ;AACAlB,YAAAA,OAAO,CAACC,GAAR,CAAY,KAAKY,SAAjB;AACA,gBAAIM,QAAQ,GAAG,KAAKN,SAAL,CAAeO,cAAf,CAA8BF,QAA9B,CAAf;AACAlB,YAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ,EAAwBkB,QAAxB;AACA,gBAAIE,EAAE,GAAGF,QAAQ,CAACG,YAAT,CAAsB/B,MAAtB,CAAT;AACA8B,YAAAA,EAAE,CAACE,WAAH,GAAiBP,EAAjB;AACH;AACJ;;AA3CmC,O","sourcesContent":["import { _decorator, Component, Node, SpriteAtlas, resources, Sprite } from 'cc';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('PokerCtr')\r\nexport class PokerCtr extends Component {\r\n    \r\n    cardList: number[]\r\n    pokerAtlas: SpriteAtlas\r\n    @property(Node)\r\n    pokerView: Node\r\n    \r\n    start() {\r\n    }\r\n\r\n    onDealCards(data){\r\n        console.log(\"获得牌型：\",data);\r\n        let cards = data.cardList[globalThis._userInfo.room_seat];\r\n        let pokerCtl = new PokerCtr()\r\n        pokerCtl.init(cards);\r\n    }\r\n\r\n    init(cards: number[]) {\r\n        this.cardList = cards;\r\n        this.onloadAtlas()\r\n    }\r\n    onloadAtlas() {\r\n        resources.load(\"image/games/bazhadan/card/pokerlist\", SpriteAtlas, (err, spriteAtlas)=>{\r\n            if(err)console.log(\"load atlas err: \", err);\r\n            else {\r\n                this.pokerAtlas = spriteAtlas;\r\n                console.log(\"this.atlas: \", this.pokerAtlas);\r\n                this.showPoker();\r\n            }\r\n        })\r\n    }\r\n    showPoker() {\r\n        this.pokerView.active = true;\r\n        for(let i = 0; i < 7; i++){\r\n            let pk = this.pokerAtlas.getSpriteFrame(this.cardList[i]+\"\");\r\n            let cardName = \"card\" + (i + 1);\r\n            console.log(cardName);\r\n            console.log(this.pokerView)\r\n            let cardNode = this.pokerView.getChildByName(cardName);\r\n            console.log(\"cardNode:\",cardNode);\r\n            let sp = cardNode.getComponent(Sprite);\r\n            sp.spriteFrame = pk;\r\n        }\r\n    }\r\n\r\n}\r\n\r\n"]}