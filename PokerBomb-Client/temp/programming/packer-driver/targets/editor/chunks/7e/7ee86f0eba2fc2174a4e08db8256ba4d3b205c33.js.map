{"version":3,"sources":["file:///D:/Documents/OneDrive/%E6%A1%8C%E9%9D%A2/%E5%85%B6%E4%BB%96%E6%96%87%E4%BB%B6%E5%A4%B9/%E6%AF%95%E4%B8%9A%E8%AE%BE%E8%AE%A1/PokerBomb/PokerBomb-Client/assets/Script/hallScene/HallSceneMgt.ts"],"names":["_decorator","Component","Node","Label","director","assetManager","ccclass","property","HallSceneMgt","start","init","update","deltaTime","bundle","getBundle","removeBundle","globalThis","_eventtarget","on","onCreateRoom","onJoinRoom","idLabel","string","_userInfo","user_id","nameLabel","user_name","onCreateRoomBtnClicked","console","log","createRoom","active","data","roomId","room_id","loadScene","onJoinRoomBtnClicked","joinRoom"],"mappings":";;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAWC,MAAAA,I,OAAAA,I;AAAMC,MAAAA,K,OAAAA,K;AAAOC,MAAAA,Q,OAAAA,Q;AAAkBC,MAAAA,Y,OAAAA,Y;;;;;;;OACzD;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBP,U;;8BAGjBQ,Y,WADZF,OAAO,CAAC,cAAD,C,UAGHC,QAAQ,CAACL,IAAD,C,UAERK,QAAQ,CAACJ,KAAD,C,UAERI,QAAQ,CAACJ,KAAD,C,UAERI,QAAQ,CAACL,IAAD,C,2BATb,MACaM,YADb,SACkCP,SADlC,CAC4C;AAAA;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAWxCQ,QAAAA,KAAK,GAAG;AACJ,eAAKC,IAAL;AACH;;AAEDC,QAAAA,MAAM,CAACC,SAAD,EAAoB,CAEzB;;AAEMF,QAAAA,IAAI,GAAE;AACT,cAAIG,MAAM,GAAGR,YAAY,CAACS,SAAb,CAAuB,UAAvB,CAAb;AACAT,UAAAA,YAAY,CAACU,YAAb,CAA0BF,MAA1B;;AACAG,UAAAA,UAAU,CAACC,YAAX,CAAwBC,EAAxB,CAA2B,YAA3B,EAAyC,KAAKC,YAA9C,EAA4D,IAA5D;;AACAH,UAAAA,UAAU,CAACC,YAAX,CAAwBC,EAAxB,CAA2B,UAA3B,EAAuC,KAAKE,UAA5C,EAAwD,IAAxD;;AACA,eAAKC,OAAL,CAAaC,MAAb,GAAsB,QAAQN,UAAU,CAACO,SAAX,CAAqBC,OAAnD;AACA,eAAKC,SAAL,CAAeH,MAAf,GAAwBN,UAAU,CAACO,SAAX,CAAqBG,SAA7C;AACH,SA1BuC,CA4BxC;;;AACOC,QAAAA,sBAAsB,GAAE;AAC3BC,UAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ,EAD2B,CAE3B;;AACA,eAAKC,UAAL,CAAgBC,MAAhB,GAAyB,IAAzB;AACH;;AAEMZ,QAAAA,YAAY,CAACa,IAAD,EAAM;AACrB,cAAIC,MAAM,GAAGD,IAAI,CAACC,MAAlB;AACAL,UAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAsBI,MAAtB;AACAjB,UAAAA,UAAU,CAACO,SAAX,CAAqBW,OAArB,GAA+BD,MAA/B;AACA7B,UAAAA,QAAQ,CAAC+B,SAAT,CAAmB,UAAnB;AACH;;AAEMC,QAAAA,oBAAoB,GAAE;AACzBR,UAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ;AACA,eAAKQ,QAAL,CAAcN,MAAd,GAAuB,IAAvB;AACH;;AAEMX,QAAAA,UAAU,CAACY,IAAD,EAAM;AACnB,cAAIC,MAAM,GAAGD,IAAI,CAACC,MAAlB;;AACA,cAAGA,MAAM,IAAI,CAAC,CAAd,EAAgB;AACZL,YAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAsBI,MAAtB;AACAjB,YAAAA,UAAU,CAACO,SAAX,CAAqBW,OAArB,GAA+BD,MAA/B;AACA7B,YAAAA,QAAQ,CAAC+B,SAAT,CAAmB,UAAnB;AACH,WAJD,MAKKP,OAAO,CAACC,GAAR,CAAY,QAAZ;AACR;;AAvDuC,O","sourcesContent":["import { _decorator, Component, Node, Label, director, assert, assetManager } from 'cc';\nconst { ccclass, property } = _decorator;\n\n@ccclass('HallSceneMgt')\nexport class HallSceneMgt extends Component {\n\n    @property(Node)\n    public createRoom: Node\n    @property(Label)\n    public nameLabel: Label\n    @property(Label)\n    public idLabel: Label\n    @property(Node)\n    public joinRoom: Node\n\n    start() {\n        this.init();\n    }\n\n    update(deltaTime: number) {\n        \n    }\n\n    public init(){\n        let bundle = assetManager.getBundle(\"bazhadan\");\n        assetManager.removeBundle(bundle);\n        globalThis._eventtarget.on(\"createRoom\", this.onCreateRoom, this);\n        globalThis._eventtarget.on(\"joinRoom\", this.onJoinRoom, this);\n        this.idLabel.string = 'ID:' + globalThis._userInfo.user_id;\n        this.nameLabel.string = globalThis._userInfo.user_name;\n    }\n\n    //创建房间按钮点击的逻辑\n    public onCreateRoomBtnClicked(){\n        console.log(\"创建房间按钮被点击了...\");\n        // globalThis._hallClientMgr.sendMessage(\"create_room\",{});\n        this.createRoom.active = true;\n    }\n\n    public onCreateRoom(data){\n        let roomId = data.roomId;\n        console.log(\"创建了房间：\", roomId);\n        globalThis._userInfo.room_id = roomId;\n        director.loadScene(\"bazhadan\");\n    }\n\n    public onJoinRoomBtnClicked(){\n        console.log(\"加入房间按钮被点击了\");\n        this.joinRoom.active = true;\n    }\n\n    public onJoinRoom(data){\n        let roomId = data.roomId;\n        if(roomId != -1){\n            console.log(\"加入了房间：\", roomId);\n            globalThis._userInfo.room_id = roomId;\n            director.loadScene(\"bazhadan\");\n        }\n        else console.log(\"房间号不存在\");\n    }\n}\n\n"]}